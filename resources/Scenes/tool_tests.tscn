[gd_scene load_steps=9 format=3 uid="uid://7nt8vyuwhfnu"]

[ext_resource type="Material" uid="uid://8ybeqagdpx28" path="res://resources/materials/asset/road.tres" id="1_b7mfa"]
[ext_resource type="Script" uid="uid://cmqetm6e0dbh5" path="res://addons/gevp/scenes/get_transforms_from_path.gd" id="2_b7mfa"]
[ext_resource type="Script" uid="uid://bqhoynr878g2i" path="res://resources/scripts/child_path.gd" id="2_wqupm"]

[sub_resource type="Curve3D" id="Curve3D_lla37"]
_data = {
"points": PackedVector3Array(-17.7154, 0.289551, -1.53909, 17.7154, -0.289551, 1.53909, -3.65471, 0, -1.07591, -11.5647, 0, 0.0234261, 11.5647, 0, -0.0234261, 47.0137, 12.9141, -4.59528, -21.1025, 0, 0.0817485, 21.1025, 0, -0.0817485, 98.6801, 0, -7.0493, -34.0744, 0, -1.38286, 34.0744, 0, 1.38286, 162.144, 0, 70.6759, -41.0952, 0, 0.509154, 41.0952, 0, -0.509154, 254.072, 0, 2.28574),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve3D" id="Curve3D_i06yg"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 7.63526, 1.30375, -0.860129, -7.63529, 0.16474, 1.83092, 7.63529, -0.16474, -1.83092, 26.6145, 7.30772, -2.5688, -6.11815, 0.0265408, -3.25335, 6.11815, -0.0265408, 3.25335, 45.6622, 12.8591, -4.57181, -5.08929, -0.520678, 1.26839, 5.08929, 0.520678, -1.26839, 67.6446, 7.05551, -5.68921, 0, 0, 0, 0, 0, 0, 82.5547, 2.2122, -6.59747),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="BoxMesh" id="BoxMesh_fvd5g"]

[sub_resource type="MultiMesh" id="MultiMesh_wqupm"]
transform_format = 1
instance_count = 99
mesh = SubResource("BoxMesh_fvd5g")
buffer = PackedFloat32Array(-0.861093, 0.000840799, 0.508447, 12.4165, 0.00762407, 0.999907, 0.0112584, 3.24129, -0.508391, 0.013571, -0.861019, 3.12482, 0.98495, 0.000781035, 0.172839, 12.5843, 0.00140807, 0.99992, -0.0125426, 4.05497, -0.172835, 0.0125972, 0.98487, -6.1112, -0.798588, 0.000713683, -0.601877, 13.9016, -0.00728114, 0.999915, 0.0108465, 4.03178, 0.601833, 0.0130442, -0.798515, 3.69345, 0.408241, 0.000594297, -0.912874, 14.2027, -0.0136691, 0.999892, -0.00546192, 4.268, 0.912772, 0.0147079, 0.408205, -5.67266, -0.102765, 0.000497643, -0.994705, 15.4638, -0.0061698, 0.99998, 0.0011377, 4.50162, 0.994686, 0.00625405, -0.10276, 3.01046, 0.999019, 0.000527871, -0.0442769, 15.6594, -0.000941746, 0.999956, -0.00932707, 4.88505, 0.04427, 0.00935962, 0.998976, -5.22244, -0.988953, 0.000442085, 0.148232, 16.8314, 0.00148411, 0.999975, 0.00691919, 5.35955, -0.148225, 0.00706275, -0.988928, 1.78686, 0.915878, 0.000365697, -0.401457, 17.2201, -0.0027082, 0.999982, -0.00526754, 5.36427, 0.401448, 0.00591165, 0.915863, -4.21903, 0.0199949, 7.212e-05, -0.9998, 18.4723, -0.000840833, 1, 5.53187e-05, 5.81198, 0.9998, 0.000839558, 0.0199949, 2.2536, 0.767479, -0.000191551, -0.641074, 18.4062, 0.00141639, 0.999998, 0.00139687, 6.015, 0.641073, -0.00198008, 0.767478, -6.81474, 0.0451092, -0.000276614, -0.998982, 20.0607, 0.00293733, 0.999996, -0.000144259, 6.39894, 0.998978, -0.00292784, 0.0451098, 2.34562, 0.843307, -0.000713111, 0.537432, 19.9513, -0.00284003, 0.999979, 0.00578326, 6.37191, -0.537425, -0.00640338, 0.843287, -6.23778, -0.978408, -0.00105938, 0.206681, 21.7912, -0.00284981, 0.999961, -0.00836523, 6.74897, -0.206664, -0.00877361, -0.978373, 2.84288, 0.491338, -0.00160852, 0.870968, 21.461, -0.00942248, 0.99993, 0.00716218, 6.80074, -0.870918, -0.0117257, 0.491288, -5.88489, -0.786943, -0.0021207, -0.617022, 23.5612, 0.00702675, 0.999898, -0.0123985, 6.97381, 0.616985, -0.0140926, -0.786848, 3.12609, 0.328831, -0.00236269, 0.944386, 22.9652, -0.013823, 0.999878, 0.00731462, 6.75607, -0.944288, -0.0154595, 0.328758, -6.08546, -0.223967, -0.00307738, -0.974592, 25.2215, 0.016636, 0.999837, -0.00698015, 7.53843, 0.974455, -0.0177767, -0.223879, 2.72802, 0.995138, -0.00385058, -0.0984161, 24.2019, 0.00575579, 0.999801, 0.0190822, 7.11524, 0.0983231, -0.0195558, 0.994962, -7.18414, -0.996953, -0.00445268, -0.0778801, 26.7862, -0.00284736, 0.999781, -0.0207115, 7.62126, 0.0779553, -0.0204267, -0.996748, 1.37304, 0.0314844, -0.00495165, 0.999492, 25.6313, -0.0201263, 0.999782, 0.00558707, 6.92926, -0.999301, -0.0202919, 0.0313779, -7.15935, -0.114694, -0.00527536, -0.993387, 28.4229, 0.0196462, 0.999778, -0.0075776, 7.52094, 0.993207, -0.0203854, -0.114565, 0.675904, 0.745875, -0.00560341, -0.666063, 27.4376, 0.0181136, 0.999765, 0.0118733, 7.03086, 0.66584, -0.0209208, 0.745801, -6.22538, -0.762295, -0.00634626, -0.647199, 29.9526, 0.0095356, 0.999733, -0.0210345, 7.57047, 0.64716, -0.0222059, -0.762031, -0.134307, -0.170634, -0.00641569, 0.985314, 28.7629, -0.023374, 0.999724, 0.00246167, 7.20875, -0.985057, -0.0226107, -0.170737, -7.2178, 0.046897, -0.00737712, -0.998873, 31.9158, 0.0247967, 0.999673, -0.00621883, 7.90912, 0.998592, -0.0244771, 0.0470646, 0.729388, 0.78131, -0.00873474, -0.624082, 30.1324, 0.0236952, 0.999596, 0.0156744, 8.03198, 0.623694, -0.0270343, 0.781201, -7.63075, -0.720557, -0.00885866, 0.69334, 33.4084, -0.0253578, 0.999586, -0.0135817, 8.05681, -0.692932, -0.027368, -0.720483, -0.0187697, 0.435424, -0.00634017, 0.900203, 31.4321, -0.0171694, 0.999735, 0.015346, 8.00838, -0.900062, -0.022138, 0.4352, -9.16695, -0.993427, -0.00663432, -0.114273, 34.9124, -0.00403042, 0.999727, -0.0230028, 8.79964, 0.114394, -0.022391, -0.993183, 0.0654988, 0.764167, -0.0069414, -0.644982, 33.1104, 0.0198418, 0.999722, 0.0127492, 9.04016, 0.644714, -0.0225401, 0.764092, -8.51942, -0.969575, -0.00552322, 0.244732, 36.2383, -0.00989161, 0.999813, -0.0166242, 9.08518, -0.244594, -0.0185392, -0.969448, -0.757751, 0.979796, -0.00259507, 0.199981, 34.6686, 0.000599868, 0.999949, 0.0100369, 9.6094, -0.199997, -0.00971418, 0.979748, -9.01037, -0.0392407, 0.00099979, -0.999229, 37.4214, -0.00457457, 0.999989, 0.0011802, 10.0856, 0.999219, 0.00461736, -0.0392357, -0.658605, 0.629971, 0.00280794, 0.776614, 36.457, 0.00926493, 0.999895, -0.0111307, 10.167, -0.776564, 0.0142073, 0.629879, -8.86542, -0.846215, 0.0046118, 0.532821, 38.7053, 0.0187156, 0.999603, 0.0210717, 10.582, -0.532512, 0.0278032, -0.845965, -0.415359, 0.378393, 0.00596848, 0.925626, 37.9757, 0.0314915, 0.999317, -0.0193173, 11.1808, -0.925109, 0.0364589, 0.377947, -9.33553, -0.245012, 0.0054945, 0.969505, 39.5905, 0.0611014, 0.998084, 0.00978497, 11.1227, -0.967593, 0.0616355, -0.244878, -2.45527, 0.998104, 0.00293745, 0.0614754, 39.8627, 0.0021778, 0.996549, -0.0829762, 11.6712, -0.061507, 0.0829528, 0.994654, -10.4913, -0.95119, 0.000513987, 0.308604, 40.7891, 0.0314061, 0.994968, 0.0951439, 11.4595, -0.307002, 0.100192, -0.94642, -2.63722, 0.789953, -0.00799038, 0.613116, 41.7297, 0.0819842, 0.992313, -0.0926981, 12.4653, -0.607662, 0.123493, 0.784536, -8.98377, 0.0842665, -0.0165505, 0.996306, 41.7406, 0.14337, 0.98966, 0.00431403, 11.3802, -0.986075, 0.142477, 0.085768, -1.03984, 0.569736, -0.0340868, 0.82112, 43.823, 0.151556, 0.986361, -0.0642113, 13.1607, -0.807732, 0.161029, 0.567132, -9.24094, -0.896928, -0.050866, -0.439242, 42.878, -0.121111, 0.983635, 0.133399, 12.0436, 0.425268, 0.172846, -0.888409, -2.20748, 0.718596, -0.0688375, 0.692013, 46.3343, 0.17249, 0.981636, -0.0814683, 13.8228, -0.673697, 0.177908, 0.717273, -9.68632, -0.975075, -0.085113, 0.2049, 42.9653, -0.0455211, 0.980592, 0.1907, 11.6343, -0.217155, 0.17662, -0.960026, 0.0592513, 0.609478, -0.0859556, -0.788129, 47.4865, -0.0881458, 0.980595, -0.175112, 13.3968, 0.787888, 0.176197, 0.590074, -7.43172, -0.892248, -0.0743722, -0.445379, 45.5083, -0.148449, 0.97983, 0.133776, 12.395, 0.426447, 0.185478, -0.885292, -0.999133, 0.163783, -0.0690327, -0.984078, 48.7018, -0.183381, 0.978031, -0.0991291, 13.6069, 0.969302, 0.196697, 0.147526, -7.24777, -0.934959, -0.0632679, 0.34907, 47.1723, 0.0147168, 0.976205, 0.216352, 11.4568, -0.354452, 0.207418, -0.91178, -0.0334873, -0.140263, -0.0494677, -0.988878, 49.8681, -0.225106, 0.974189, -0.0168037, 12.9907, 0.964185, 0.220245, -0.147778, -7.16521, -0.998735, -0.0501651, -0.00335318, 49.0273, -0.0495985, 0.972143, 0.229083, 11.111, -0.00823218, 0.228959, -0.973401, 0.223032, -0.121473, -0.0385484, -0.991846, 51.2236, -0.243903, 0.969768, -0.00781906, 12.8942, 0.962162, 0.240964, -0.127203, -7.2897, -0.982502, -0.0340778, -0.183106, 50.8424, -0.0782708, 0.967638, 0.239895, 10.8149, 0.169006, 0.250029, -0.953374, 0.501698, 0.971891, -0.0280941, 0.233749, 52.5653, 0.0869615, 0.96548, -0.245532, 12.5991, -0.218782, 0.258957, 0.940785, -7.34315, -0.668512, -0.0191583, -0.743455, 52.5025, -0.21175, 0.963194, 0.165584, 10.0587, 0.712919, 0.268122, -0.647964, 2.08381, 0.388819, -0.0229455, -0.921029, 54.0711, -0.242956, 0.96175, -0.126526, 12.7341, 0.888703, 0.272965, 0.368372, -8.35182, -0.654096, -0.014589, 0.756271, 54.1434, 0.203415, 0.95959, 0.194444, 9.25663, -0.728547, 0.281023, -0.624697, 1.59847, 0.376627, -0.00771664, -0.926333, 55.2839, -0.264038, 0.957592, -0.115329, 11.9492, 0.887939, 0.288023, 0.358617, -8.34074, -0.287537, -0.00231391, 0.957767, 55.8778, 0.281116, 0.955749, 0.0867047, 9.328, -0.915585, 0.294175, -0.274163, -0.444833, 0.647853, 0.00171886, 0.761764, 56.6253, 0.227218, 0.954041, -0.195394, 11.3006, -0.727089, 0.299673, 0.617687, -7.94374, -0.533037, 0.00779256, 0.846056, 57.4734, 0.262144, 0.952273, 0.156386, 8.76363, -0.804458, 0.305148, -0.509639, -0.654928, 0.183594, 0.0109198, -0.982941, 57.9786, -0.306582, 0.950698, -0.0467019, 10.907, 0.93397, 0.309926, 0.177891, -8.45009, -0.5816, 0.0225842, 0.813162, 59.1338, 0.268666, 0.948856, 0.165806, 8.19455, -0.767828, 0.314901, -0.557922, -0.421553, 0.689416, 0.027789, -0.723832, 59.3415, -0.249264, 0.947338, -0.201042, 9.7371, 0.680127, 0.319027, 0.660037, -7.33546, -0.640808, 0.030372, -0.7671, 60.7127, -0.229614, 0.945894, 0.229262, 7.55333, 0.732559, 0.32305, -0.599162, -0.595257, 0.857231, 0.0308717, 0.514006, 60.8186, 0.143378, 0.944415, -0.295841, 9.45354, -0.494568, 0.327302, 0.805156, -7.57794, -0.633889, 0.0389585, 0.772442, 62.3077, 0.279046, 0.942982, 0.181433, 6.94315, -0.721331, 0.330555, -0.608617, -0.786506, 0.867095, 0.0404404, 0.496498, 62.0304, 0.133526, 0.941357, -0.309868, 9.66414, -0.479913, 0.33498, 0.810846, -9.57598, -0.97185, 0.0413629, -0.231941, 63.8546, -0.0412295, 0.939418, 0.340285, 6.03207, 0.231964, 0.340269, -0.911268, -0.932929, 0.115684, 0.0505777, 0.991998, 63.6875, 0.335544, 0.938003, -0.0869549, 8.73109, -0.934894, 0.342918, 0.091541, -8.0558, -0.334325, 0.0645779, -0.940243, 65.5544, -0.30152, 0.937886, 0.171628, 6.23878, 0.892924, 0.340882, -0.294087, -1.71158, 0.956339, 0.0662512, 0.284653, 65.1592, 0.0406839, 0.934308, -0.354139, 8.44707, -0.289416, 0.350257, 0.890819, -8.06432, -0.996155, 0.0801289, -0.0354239, 67.3325, 0.0629815, 0.936038, 0.346217, 5.88665, 0.0609, 0.342655, -0.937485, -1.7381, 0.382669, 0.0924392, -0.919249, 65.9588, -0.353615, 0.933871, -0.053295, 9.08214, 0.853534, 0.345455, 0.390052, -10.4452, -0.668896, 0.0819068, -0.73883, 69.0998, -0.204853, 0.935115, 0.289129, 5.62558, 0.714573, 0.344748, -0.608716, -1.31051, 0.600939, 0.0578766, 0.797197, 68.034, 0.249651, 0.933886, -0.255991, 8.94444, -0.759307, 0.352856, 0.54676, -10.7711, -0.9945, 0.0398968, 0.0968409, 69.9521, 0.0709849, 0.93661, 0.343107, 6.0905, -0.0770133, 0.348094, -0.934291, -3.15238, 0.907116, 0.0213651, 0.420338, 70.225, 0.127854, 0.937526, -0.32357, 8.02124, -0.400991, 0.347258, 0.847714, -9.12787, -0.76661, 0.0157499, 0.64192, 71.3351, 0.228618, 0.940885, 0.24994, 5.87197, -0.600036, 0.338361, -0.724892, -3.1761, 0.946994, 0.00269389, 0.32124, 71.9376, 0.104975, 0.942476, -0.317362, 7.88024, -0.303616, 0.334262, 0.892236, -10.4196, -0.820074, -0.0128382, 0.572114, 72.5564, 0.178378, 0.944204, 0.276877, 4.40261, -0.543747, 0.329112, -0.772026, -1.59426, 0.938359, -0.0218051, -0.344975, 73.7043, -0.0918971, 0.946356, -0.309784, 7.29707, 0.333224, 0.32239, 0.886017, -9.2967, -0.702153, -0.022969, 0.711656, 73.9574, 0.210125, 0.948282, 0.237926, 4.23135, -0.680315, 0.316597, -0.661013, -2.11551, 0.894273, -0.0253582, 0.446802, 75.285, 0.160753, 0.94996, -0.267832, 6.65575, -0.417653, 0.31134, 0.853601, -9.62063, -0.922111, -0.0277499, 0.385929, 75.4162, 0.0940073, 0.951471, 0.293028, 3.96448, -0.375332, 0.306485, -0.874753, -2.46726, 0.753616, -0.0213732, 0.656968, 76.7853, 0.215635, 0.952198, -0.21638, 5.87326, -0.620939, 0.304733, 0.7222, -10.1339, -0.645502, -0.0388743, -0.762769, 76.7803, -0.249061, 0.954824, 0.162108, 3.34, 0.722008, 0.294617, -0.626023, -2.81938, 0.743444, -0.0395285, -0.66763, 78.3985, -0.166281, 0.955981, -0.241764, 5.341, 0.647798, 0.290752, 0.704145, -9.40063, -0.264675, -0.0336213, -0.963751, 78.1741, -0.288949, 0.956239, 0.0459947, 2.71221, 0.92003, 0.290648, -0.262807, -1.58791, 0.670192, -0.0432201, -0.740929, 79.9407, -0.181542, 0.958431, -0.220118, 4.69873, 0.719643, 0.282031, 0.634486, -9.5801, -0.306664, -0.0486582, -0.950573, 79.4821, -0.276321, 0.960233, 0.0399913, 1.92333, 0.910826, 0.274928, -0.307914, -2.48058, 0.7386, -0.0396865, -0.672975, 81.5903, -0.159379, 0.959687, -0.231515, 4.22368, 0.655033, 0.278255, 0.702499, -11.1787, -0.841596, -0.0406356, -0.538576, 81.0935, -0.18092, 0.960768, 0.210222, 1.72387, 0.508904, 0.274361, -0.81593, -2.78043, 0.89937, -0.0480395, 0.434541, 83.3035, 0.15655, 0.963423, -0.217504, 3.76415, -0.408198, 0.263644, 0.873994, -11.7066, -0.990308, -0.00833723, 0.138638, 82.4732, 0.0367061, 0.946995, 0.319144, 1.3731, -0.13395, 0.32114, -0.937511, -3.46006, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)

[sub_resource type="Curve3D" id="Curve3D_b7mfa"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, -7.63529, 0.16474, 1.83092, 7.63529, -0.16474, -1.83092, 20, 0, 0, -6.11815, 0.0265408, -3.25335, 6.11815, -0.0265408, 3.25335, 40, 0, 0, -5.08929, -0.520678, 1.26839, 5.08929, 0.520678, -1.26839, 62.929, 0, 0, 0, 0, 0, 0, 0, 0, 78.64, 0, 0),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[node name="ToolTests" type="Node3D"]

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_lla37")

[node name="mesh_road" type="CSGPolygon3D" parent="Path3D" groups=["Road"]]
visible = false
use_collision = true
polygon = PackedVector2Array(-6, -1, -6, 0, 6, 0, 6, -1)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 128.0
path_joined = false
material = ExtResource("1_b7mfa")

[node name="Path3D" type="Path3D" parent="Path3D" node_paths=PackedStringArray("parent_path", "source_path")]
curve = SubResource("Curve3D_i06yg")
script = ExtResource("2_wqupm")
parent_path = NodePath("..")
source_path = NodePath("../../source_path")
start_offset = 11.4

[node name="instance_barrier_posts" type="MultiMeshInstance3D" parent="." node_paths=PackedStringArray("path")]
multimesh = SubResource("MultiMesh_wqupm")
script = ExtResource("2_b7mfa")
path = NodePath("../Path3D/Path3D")
instance_spacing = 0.805
start_offset = 0.805
length = 200.0
h_offset = 4.225
h_offset_random = 1.29
v_offset_random = -0.285
alternate_sides = true
force_up = true
rotate_random = 1.555

[node name="source_path" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -44.2876)
curve = SubResource("Curve3D_b7mfa")

[connection signal="curve_changed" from="Path3D" to="Path3D/Path3D" method="_on_parent_path_changed"]
[connection signal="curve_changed" from="Path3D" to="instance_barrier_posts" method="_on_road_path_path_changed"]
[connection signal="curve_changed" from="Path3D/Path3D" to="instance_barrier_posts" method="_on_road_path_path_changed"]
[connection signal="curve_changed" from="source_path" to="Path3D/Path3D" method="_on_parent_path_changed"]
