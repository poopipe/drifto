[gd_scene load_steps=26 format=3 uid="uid://bvsi0mjnlulyx"]

[ext_resource type="PackedScene" uid="uid://c3ixqkc6k13yi" path="res://addons/gevp/scenes/vehicle_controller.tscn" id="1_x8foh"]
[ext_resource type="PackedScene" uid="uid://cd3qphnvh8fyv" path="res://addons/gevp/scenes/drift_car.tscn" id="2_6grc4"]
[ext_resource type="PackedScene" uid="uid://b2hlchrj4h2b7" path="res://addons/gevp/scenes/engine_sound.tscn" id="3_ndtxv"]
[ext_resource type="PackedScene" uid="uid://h6vdpba71kpr" path="res://addons/gevp/scenes/smoke_effect.tscn" id="4_lfj3g"]
[ext_resource type="Script" uid="uid://ba7vo2i7d6y4w" path="res://addons/gevp/scripts/gui.gd" id="5_gt5iv"]
[ext_resource type="Script" uid="uid://cm8hux77qf841" path="res://addons/gevp/scripts/camera.gd" id="6_h0cs5"]
[ext_resource type="Script" uid="uid://cavg2apdm4jd4" path="res://addons/gevp/scripts/debug.gd" id="7_r4xy1"]
[ext_resource type="Script" uid="uid://b3x2sv0t72127" path="res://addons/gevp/scripts/debug_ui.gd" id="8_kjj14"]
[ext_resource type="Texture2D" uid="uid://c0qbidyvjphf4" path="res://resources/textures/test_track_a.png" id="9_ohuo7"]
[ext_resource type="Script" uid="uid://ivpfhh447vsu" path="res://resources/scripts/manager.gd" id="10_6grc4"]
[ext_resource type="Script" uid="uid://dryxkqundec26" path="res://addons/gevp/scenes/road_path.gd" id="11_ndtxv"]
[ext_resource type="Shader" uid="uid://blbvn8gtir83p" path="res://addons/gevp/scenes/road.gdshader" id="12_lfj3g"]

[sub_resource type="PlaneMesh" id="PlaneMesh_cgl6g"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ne54f"]
albedo_texture = ExtResource("9_ohuo7")

[sub_resource type="BoxShape3D" id="BoxShape3D_ndtxv"]
size = Vector3(410.283, 1, 210.822)

[sub_resource type="Shader" id="Shader_lfj3g"]
code = "
// NOTE: Shader automatically converted from Godot Engine 4.4.1.stable's ProceduralSkyMaterial.

shader_type sky;
render_mode use_debanding;

uniform vec4 sky_top_color : source_color = vec4(0.385, 0.454, 0.55, 1.0);
uniform vec4 sky_horizon_color : source_color = vec4(0.646, 0.656, 0.67, 1.0);
uniform float sky_curve : hint_range(0, 8) = 3.0;
uniform float horizon_offset = 0.0;


uniform float sky_energy = 1.0; // In Lux.
uniform sampler2D sky_cover : filter_linear, source_color, hint_default_black;
uniform vec4 sky_cover_modulate : source_color = vec4(1.0, 1.0, 1.0, 1.0);
uniform vec4 ground_bottom_color : source_color = vec4(0.2, 0.169, 0.133, 1.0);
uniform vec4 ground_horizon_color : source_color = vec4(0.646, 0.656, 0.67, 1.0);
uniform float ground_curve : hint_range(0, 1) = 0.02;
uniform float ground_energy = 1.0;
uniform float sun_angle_max = 30.0;
uniform float sun_curve : hint_range(0, 1) = 0.15;
uniform float exposure : hint_range(0, 128) = 1.0;

uniform float sky_bands = 32.0;

void sky() {
	float v_angle = acos(clamp(EYEDIR.y, -1.0, 1.0));
	float c = (1.0 - v_angle / (PI * 0.5));
	//vec3 sky = mix(sky_horizon_color.rgb, sky_top_color.rgb, clamp(1.0 - pow(1.0 - c, 1.0 / sky_curve), 0.0, 1.0));
	
	// set up sky gradient bands
	float sky_y = (1.0-SKY_COORDS.y) + horizon_offset;
	float sky_gradient = 1.0 - abs(sky_y * 2.0 - 1.0);
	sky_gradient = sky_gradient * sky_bands;
	
	float sky_sections = floor(sky_gradient-0.5) / sky_bands;
	float sky_lines =smoothstep(0.0, 0.1, abs(fract(sky_gradient)*2.0 - 1.0));
	
	
	
	vec3 sky = vec3(sky_sections * mix(sky_horizon_color.rgb, sky_top_color.rgb, pow(1.0-(SKY_COORDS.y * SKY_COORDS.y), sky_curve)));
	
	sky *= sky_energy;

	if (LIGHT0_ENABLED) {
		float sun_angle = acos(dot(LIGHT0_DIRECTION, EYEDIR));
		if (sun_angle < LIGHT0_SIZE) {
			sky = LIGHT0_COLOR * LIGHT0_ENERGY;
		} else if (sun_angle < sun_angle_max) {
			float c2 = (sun_angle - LIGHT0_SIZE) / (sun_angle_max - LIGHT0_SIZE);
			sky = mix(LIGHT0_COLOR * LIGHT0_ENERGY, sky, clamp(1.0 - pow(1.0 - c2, 1.0 / sun_curve), 0.0, 1.0));
		}
	}

	if (LIGHT1_ENABLED) {
		float sun_angle = acos(dot(LIGHT1_DIRECTION, EYEDIR));
		if (sun_angle < LIGHT1_SIZE) {
			sky = LIGHT1_COLOR * LIGHT1_ENERGY;
		} else if (sun_angle < sun_angle_max) {
			float c2 = (sun_angle - LIGHT1_SIZE) / (sun_angle_max - LIGHT1_SIZE);
			sky = mix(LIGHT1_COLOR * LIGHT1_ENERGY, sky, clamp(1.0 - pow(1.0 - c2, 1.0 / sun_curve), 0.0, 1.0));
		}
	}

	if (LIGHT2_ENABLED) {
		float sun_angle = acos(dot(LIGHT2_DIRECTION, EYEDIR));
		if (sun_angle < LIGHT2_SIZE) {
			sky = LIGHT2_COLOR * LIGHT2_ENERGY;
		} else if (sun_angle < sun_angle_max) {
			float c2 = (sun_angle - LIGHT2_SIZE) / (sun_angle_max - LIGHT2_SIZE);
			sky = mix(LIGHT2_COLOR * LIGHT2_ENERGY, sky, clamp(1.0 - pow(1.0 - c2, 1.0 / sun_curve), 0.0, 1.0));
		}
	}

	if (LIGHT3_ENABLED) {
		float sun_angle = acos(dot(LIGHT3_DIRECTION, EYEDIR));
		if (sun_angle < LIGHT3_SIZE) {
			sky = LIGHT3_COLOR * LIGHT3_ENERGY;
		} else if (sun_angle < sun_angle_max) {
			float c2 = (sun_angle - LIGHT3_SIZE) / (sun_angle_max - LIGHT3_SIZE);
			sky = mix(LIGHT3_COLOR * LIGHT3_ENERGY, sky, clamp(1.0 - pow(1.0 - c2, 1.0 / sun_curve), 0.0, 1.0));
		}
	}

	vec4 sky_cover_texture = texture(sky_cover, SKY_COORDS);
	//sky += (sky_cover_texture.rgb * sky_cover_modulate.rgb) * sky_cover_texture.a * sky_cover_modulate.a * sky_energy;

	c = (v_angle - (PI * 0.5)) / (PI * 0.5);
	vec3 ground = mix(ground_horizon_color.rgb, ground_bottom_color.rgb, clamp(1.0 - pow(1.0 - c, 1.0 / ground_curve), 0.0, 1.0));
	//vec3 ground = ground_bottom_color.rgb;
	ground *= ground_energy;

	COLOR = mix(ground, sky, step(0.0, EYEDIR.y + horizon_offset)) * exposure;
	//COLOR = sky * exposure;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_h0cs5"]
shader = SubResource("Shader_lfj3g")
shader_parameter/sky_top_color = Color(0.0212, 0.08904, 0.53, 1)
shader_parameter/sky_horizon_color = Color(1, 0.48, 0.956667, 1)
shader_parameter/sky_curve = 0.359
shader_parameter/horizon_offset = 0.325
shader_parameter/sky_energy = 1.0
shader_parameter/sky_cover_modulate = Color(1, 1, 1, 1)
shader_parameter/ground_bottom_color = Color(0.17424, 0.1056, 0.22, 1)
shader_parameter/ground_horizon_color = Color(0.6463, 0.6558, 0.6708, 1)
shader_parameter/ground_curve = 0.046
shader_parameter/ground_energy = 1.0
shader_parameter/sun_angle_max = 0.523599
shader_parameter/sun_curve = 0.15
shader_parameter/exposure = 1.0
shader_parameter/sky_bands = 32.0

[sub_resource type="Sky" id="Sky_ndtxv"]
sky_material = SubResource("ShaderMaterial_h0cs5")

[sub_resource type="Environment" id="Environment_x8foh"]
background_mode = 2
background_color = Color(0.252999, 0.350747, 0.448726, 1)
sky = SubResource("Sky_ndtxv")
ambient_light_source = 3
ambient_light_energy = 0.0
fog_mode = 1
fog_density = 0.8111
volumetric_fog_enabled = true
volumetric_fog_density = 0.02

[sub_resource type="CylinderMesh" id="CylinderMesh_6grc4"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ndtxv"]

[sub_resource type="Curve3D" id="Curve3D_6grc4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 13.5764, 197.979, -180.556, -73.7886, 0, -0.393524, 73.7886, 0, 0.393524, 149.796, 200, -176.415, -47.1719, 0, 1.03297, 47.1719, 0, -1.03297, 225.069, 180, -113.267, 28.2343, 0, -3.09888, -28.2343, 0, 3.09888, 244.695, 170, -45.092, 64.388, 0, -0.344322, -64.388, 0, 0.344322, 82.864, 150, -42.681, -56.2262, 0, 20.0808, 56.2262, 0, -20.0808, 86.808, 130, 21.893, -16.5398, 0, -31.4973, 16.5398, 0, 31.4973, 212.842, 110, 9.271, 36.547, 0, -6.426, -36.5471, 0, 6.42587, 157.492, 100, 62.857, -15.663, 0, -33.7357, 15.663, 0, 33.7357, 135.002, 100, 125.108, 52.2867, 0, 25.5819, -52.2867, 0, -25.5819, 86.987, 90, 169.446, 35.6018, 0, -32.3227, -35.6018, 0, 32.3227, -25.44, 80, 121.196, -43.0969, 0, -14.5218, 43.0969, 0, 14.5218, 9.225, 70, 186.31, 6.4389, 0, -38.8487, -6.4389, 0, 38.8487, 81.428, 50, 243.088, 38.794, 0, 3.82477, -38.794, 0, -3.82477, -4.238, 50, 264.452, 46.4435, 0, -14.7526, -46.4435, 0, 14.7526, -92.207, 40, 201.07, -38.794, 0, -29.5053, 38.794, 0, 29.5053, -70.351, 30, 292.864, 7.99864, 0, -60.0482, -7.99864, 0, 60.0482, 99.5771, -3.43323e-05, 359.524, 18.2083, 0, -75.4341, -18.2083, 0, 75.4341, 161.333, -8.861, 448.61, 48.5552, 0, 61.5612, -48.5552, 0, -61.5612, 19.136, -20, 422.598, 2.6012, 0, -54.6247, -2.6012, 0, 54.6247, -131.733, -10, 385.315, 3.4682, 0, -57.2259, -3.4682, 0, 57.2259, -33.755, -20, 470.287, 39.8847, 0, 18.2082, -39.8847, 0, -18.2082, -128.264, -30, 504.102, 16.2909, 0, 48.6151, -16.2909, 0, -48.6151, -219.305, -40, 390.517, 42.4859, 0, -26.8788, -42.4859, 0, 26.8788, -310.347, -50, 358.436, 60.7271, 0, 7.19321, -60.7271, 0, -7.19321, -501.555, -60, 480.643, -1.9826, 0, -41.1956, 1.9826, 0, 41.1956, -583.426, -70, 541.437, -16.4589, 0, 11.3194, 16.4589, 0, -11.3194, -505.89, -80, 589.025, -32.5258, 0, 2.32916, 32.5258, 0, -2.32916, -445.382, -90, 560.399, -34.0868, 0, 27.8431, 34.0868, 0, -27.8431, -357.623, -100, 564.747, 18.2447, 0, -42.5615, -18.2447, 0, 42.5615, -289.992, -110, 621.106, 18.5774, 0, -31.1445, -18.5774, 0, 31.1445, -279.825, -120, 729.781, 37.5984, 0, 21.4088, -37.5984, 0, -21.4088, -370.629, -130, 721.685, 19.312, 0, -51.5104, -19.312, 0, 51.5104, -485.081, -140, 712.147, 34.5153, 0, -7.80609, -34.5153, 0, 7.80609, -570.052, -150, 767.639, 0, 0, 0, 0, 0, 0, -623.81, -150, 823.998),
"tilts": PackedFloat32Array(0, 0, -0.01, 0.225, 0.241, -0.252, -0.04, 0.14, 0.17, 0.485, 0.41, 0.08, 0.45, 0.42, 0.375, 0.15, 0.325, 0.33, 0.545, 0.655, 0.66, 0.825, 0.945, 0.67, 0.695, 0.535, 0.37, 0.455, 0.385, 0.515, 0.58, 0.795, 0.685, 0.765, 0.74)
}
point_count = 35

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gt5iv"]
render_priority = 0
shader = ExtResource("12_lfj3g")

[sub_resource type="CylinderMesh" id="CylinderMesh_lfj3g"]
top_radius = 0.1
bottom_radius = 0.1
height = 9.0

[sub_resource type="MultiMesh" id="MultiMesh_gt5iv"]
transform_format = 1
instance_count = 106
mesh = SubResource("CylinderMesh_lfj3g")
buffer = PackedFloat32Array(-0.0518835, -0.0275449, -0.998273, 22.092, -0.000456223, 0.99962, -0.0275584, 198.238, 0.998653, -0.000974388, -0.0518763, -171.075, -0.0367956, -0.0186169, -0.999149, 62.8407, -0.000107361, 0.999827, -0.0186255, 199.156, 0.999323, -0.000578068, -0.0367912, -187.302, -0.0232753, -0.0106162, -0.999673, 102.277, 9.04626e-05, 0.999944, -0.0106212, 199.742, 0.999729, -0.000337644, -0.023273, -168.107, -0.00833857, -0.00177749, -0.999964, 142.555, 0.000183089, 0.999998, -0.00177908, 199.992, 0.999965, -0.000197917, -0.00833823, -185.465, -0.502893, 0.156982, -0.849974, 176.777, 0.044133, 0.98675, 0.156132, 198.341, 0.863221, 0.0410057, -0.503157, -161.904, -0.933293, 0.29788, -0.20058, 207.421, 0.232265, 0.926682, 0.295489, 185.561, 0.273894, 0.22919, -0.934052, -139.331, 0.0117403, 0.0032378, -0.999926, 224.645, -0.000293388, 0.999995, 0.00323458, 179.998, 0.999931, 0.000255391, 0.0117412, -104.259, -0.866789, 0.0619423, -0.494813, 265.828, -0.00352137, 0.99147, 0.130284, 177.279, 0.498662, 0.114671, -0.859178, -100.174, -0.908451, -0.0204028, 0.417492, 252.153, 0.0364025, 0.991151, 0.127648, 171.937, -0.416402, 0.13116, -0.89967, -61.275, -0.0504532, -0.137834, 0.989169, 226.295, 0.0510153, 0.988782, 0.140382, 167.845, -0.997423, 0.0575455, -0.0428556, -34.8159, -0.0183279, -0.174016, 0.984572, 186.256, 0.0520232, 0.983238, 0.174749, 162.063, -0.998478, 0.0544234, -0.00896781, -51.9076, -0.00772267, -0.140271, 0.990083, 147.015, 0.0502014, 0.98881, 0.140482, 154.703, -0.998709, 0.0507885, -0.000594472, -33.782, -0.0045147, -0.067237, 0.997727, 107.145, 0.0472556, 0.996608, 0.0673754, 151.287, -0.998873, 0.0474523, -0.00132207, -51.7463, -0.26666, -0.0379328, 0.963044, 69.7843, 0.0811015, 0.994798, 0.0616399, 148.818, -0.960372, 0.0945412, -0.262196, -32.0607, -0.973105, -0.00376697, 0.230329, 31.637, 0.0534296, 0.968909, 0.241578, 143.607, -0.224078, 0.247388, -0.94265, -16.6823, -0.575482, 0.124931, -0.808215, 57.7226, -0.0673657, 0.977663, 0.19909, 133.941, 0.815035, 0.169019, -0.554212, 12.4124, 0.338352, 0.0299916, -0.940541, 93.7156, -0.0467518, 0.998793, 0.0150306, 129.548, 0.939857, 0.0388864, 0.339346, 28.965, 0.315442, 0.156701, -0.935917, 125.302, -0.0925618, 0.986649, 0.133998, 127.673, 0.94442, 0.0443614, 0.325735, -1.56548, 0.164915, 0.233152, -0.958355, 167.394, -0.118347, 0.969316, 0.215453, 118.666, 0.979182, 0.0778869, 0.187447, 4.81232, -0.553394, 0.108017, -0.825886, 208.86, -0.0335493, 0.98786, 0.151681, 111.359, 0.832244, 0.111648, -0.543052, -8.31231, -0.898709, -0.0623024, 0.434099, 206.614, 0.0141698, 0.985215, 0.170735, 107.811, -0.438318, 0.159592, -0.884538, 30.401, -0.329391, -0.0782111, 0.940949, 186.082, 0.0634482, 0.992477, 0.104705, 100.905, -0.942059, 0.0941904, -0.321951, 64.9464, -0.361685, 0.00925983, 0.932254, 141.205, 0.0255935, 0.999673, 1.11759e-08, 100.23, -0.931949, 0.0238597, -0.361804, 57.956, -0.990844, 0.00869057, -0.134736, 134.93, 0.00877052, 0.999962, 0, 99.9211, 0.13473, -0.0011817, -0.990882, 96.5527, -0.958592, -0.012521, -0.284507, 130.321, -0.0286026, 0.998214, 0.0524399, 99.4493, 0.283343, 0.0584061, -0.957239, 138.032, -0.662095, -0.140879, 0.736059, 139.561, 0.00639962, 0.981074, 0.19353, 94.0911, -0.749392, 0.132846, -0.648663, 179.407, 0.362939, -0.0293042, 0.931352, 99.0431, 0.0251201, 0.99945, 0.0216578, 90.3254, -0.931474, 0.0155351, 0.363476, 164.943, 0.595402, -0.0589519, 0.801262, 55.8604, 0.0257379, 0.998192, 0.0543154, 88.9127, -0.803015, -0.0117167, 0.595843, 160.678, 0.626045, -0.113762, 0.771444, 36.0099, 0.0475077, 0.993028, 0.107884, 86.267, -0.778338, -0.0308908, 0.627085, 121.207, -0.0431548, -0.0994605, 0.994105, -4.23379, -0.0118799, 0.995013, 0.0990356, 81.1937, -0.998998, -0.00753599, -0.0441212, 120.312, -0.824679, -0.0355333, 0.564484, -43.8449, 0.00215004, 0.99782, 0.0659521, 79.5359, -0.565598, 0.055603, -0.822805, 128.279, -0.620717, 0.0674139, -0.781132, -24.7738, -0.0834578, 0.984955, 0.151323, 73.9711, 0.779581, 0.15912, -0.605752, 160.608, -0.330989, 0.0119849, -0.943559, 2.35084, -0.00157227, 0.999911, 0.0132523, 70.0132, 0.943633, 0.00586987, -0.330941, 193.464, -0.331681, 0.167971, -0.928317, 46.165, -0.0909359, 0.973747, 0.208682, 66.9286, 0.938999, 0.153633, -0.307699, 188.56, -0.798025, 0.137515, -0.586724, 68.9381, -0.0608843, 0.950236, 0.305526, 54.1403, 0.59954, 0.279539, -0.749939, 220.904, -0.914083, -0.0249034, 0.404762, 86.7608, -0.027234, 0.999629, 0, 50.2451, -0.404612, -0.0110233, -0.914422, 256.822, 0.0107502, 0.000144766, 0.999942, 45.1306, -0.0134641, 0.999909, -1.30385e-08, 49.8788, -0.999852, -0.0134633, 0.0107511, 260.905, 0.128151, 0.000342594, 0.991755, 4.14264, -0.00267342, 0.999996, 7.45058e-09, 50.0241, -0.991751, -0.00265139, 0.128151, 274.48, 0.76548, -0.103749, 0.635041, -22.5087, 0.0518479, 0.993652, 0.0998387, 48.6649, -0.641367, -0.043499, 0.766, 243.242, 0.784179, -0.128704, 0.607041, -59.0555, 0.0686576, 0.990244, 0.121258, 42.9723, -0.616725, -0.0534099, 0.785364, 221.91, -0.150337, -0.0215971, 0.988399, -87.0669, -0.00130558, 0.999765, 0.0216468, 40.0573, -0.988634, 0.00196385, -0.15033, 190.631, -0.979464, -0.0442371, 0.196707, -106.62, -0.0171629, 0.990385, 0.137267, 37.9061, -0.200888, 0.131072, -0.970806, 224.261, -0.820156, 0.0207297, -0.571764, -110.96, -0.0451872, 0.993875, 0.100851, 32.1856, 0.570353, 0.10855, -0.814196, 264.366, -0.63828, 0.0155867, -0.769646, -70.5145, 0.000351116, 0.999801, 0.0199565, 30.0736, 0.769804, 0.0124676, -0.638159, 281.243, -0.221681, 0.115591, -0.968244, -42.4903, -0.0477836, 0.990469, 0.129184, 26.9245, 0.973948, 0.0749037, -0.214044, 313.392, -0.132784, 0.158089, -0.978456, -0.249872, -0.0920221, 0.980967, 0.170983, 22.0435, 0.986864, 0.112744, -0.115709, 301.736, -0.173351, 0.169843, -0.970105, 36.015, -0.113463, 0.975015, 0.190977, 12.9202, 0.978303, 0.143177, -0.149748, 324.345, -0.399291, 0.143278, -0.90556, 79.1507, -0.0991121, 0.975179, 0.197995, 6.97428, 0.911451, 0.168809, -0.37518, 316.749, -0.998733, 0.0109202, -0.0491255, 90.8815, 0.00896256, 0.999164, 0.0398929, 0.203356, 0.0495201, 0.0394021, -0.997996, 353.574, -0.557449, 0.0511574, -0.828634, 115.048, -0.0568278, 0.993408, 0.0995599, -1.06856, 0.828264, 0.102589, -0.550867, 381.872, -0.436725, 0.0700346, -0.896865, 143.332, -0.0721818, 0.991022, 0.112536, -6.6538, 0.896695, 0.113885, -0.427749, 410.972, -0.995221, 0.0153457, 0.0964327, 172.489, 0.0170189, 0.999718, 0.0165521, -8.91825, -0.0961515, 0.0181142, -0.995202, 436.917, -0.813541, -0.0295983, 0.580753, 143.41, -0.002416, 0.998867, 0.0475232, -9.46175, -0.581502, 0.0372589, -0.812691, 468.284, 0.0544554, -0.106297, 0.992842, 115.848, 0.0267562, 0.994116, 0.104966, -13.1348, -0.998158, 0.0208487, 0.0569791, 498.705, 0.501981, -0.0790146, 0.861262, 83.5494, 0.022881, 0.996683, 0.0781025, -16.4186, -0.864576, -0.0194995, 0.502124, 469.053, 0.676032, -0.0292634, 0.736291, 41.0843, -0.00391345, 0.999054, 0.0433, -19.0303, -0.736862, -0.0321536, 0.675278, 459.537, 0.781544, 0.0281496, 0.623215, 27.0026, -0.0372767, 0.999304, 0.00161001, -20.3344, -0.622735, -0.0244897, 0.782049, 418.044, 0.629537, 0.0598795, 0.774659, -13.7027, -0.052499, 0.998026, -0.0344812, -18.8173, -0.775195, -0.0189616, 0.631438, 402.197, 0.45917, 0.0813098, 0.88462, -37.1957, -0.0616944, 0.996317, -0.0595534, -17.9393, -0.886204, -0.027231, 0.462495, 365.274, 0.213297, 0.0911376, 0.972727, -80.4566, -0.0642775, 0.994792, -0.0791102, -14.0181, -0.974871, -0.0456506, 0.218044, 367.923, -0.466253, 0.0549428, 0.882944, -121.774, -0.0330117, 0.996294, -0.0794286, -11.5287, -0.884035, -0.0661812, -0.462711, 353.115, -0.968341, -0.00751756, -0.24952, -122.059, -0.0151735, 0.999471, 0.0287731, -10.0048, 0.249172, 0.0316482, -0.967942, 393.444, -0.347806, 0.0593778, -0.935684, -105.064, -0.0802826, 0.992441, 0.0928216, -13.7901, 0.934123, 0.107403, -0.34041, 429.174, -0.353304, 0.0586759, -0.933667, -60.7534, -0.0809994, 0.992365, 0.0930152, -16.1054, 0.931996, 0.108489, -0.345853, 424.263, -0.961046, -0.00954158, -0.276222, -43.6169, -0.0193036, 0.999281, 0.0326438, -19.9813, 0.275712, 0.0367042, -0.960539, 460.244, -0.873591, -0.061226, 0.482795, -32.6596, -0.0276474, 0.996696, 0.0763701, -20.7017, -0.485876, 0.0533682, -0.872397, 500.911, -0.0941466, -0.125057, 0.987673, -73.8615, 0.0287621, 0.991323, 0.128261, -25.4976, -0.995143, 0.0404828, -0.0897328, 507.329, 0.315421, -0.054571, 0.947382, -114.965, 0.0177387, 0.99851, 0.0516102, -29.6889, -0.948786, 0.000526369, 0.315919, 519.021, 0.58159, -0.0399567, 0.8125, -142.528, -0.0149038, 0.998102, 0.0597523, -30.8776, -0.813345, -0.0468606, 0.579891, 485.396, 0.759806, -0.0424334, 0.648764, -183.75, -0.0276246, 0.99486, 0.097423, -33.8661, -0.649563, -0.0919444, 0.754728, 471.523, 0.865065, -0.00439012, 0.50164, -192.11, -0.0415963, 0.99589, 0.0804473, -38.1985, -0.499932, -0.0904585, 0.861328, 428.72, 0.936009, 0.0535053, 0.347887, -225.383, -0.0633148, 0.997851, 0.0168818, -39.3695, -0.346236, -0.0378278, 0.937385, 400.278, 0.780752, -0.0458874, 0.623154, -227.248, -0.0192511, 0.99506, 0.0973932, -41.7118, -0.624545, -0.0880363, 0.776011, 355.784, 0.0148925, -0.133368, 0.990955, -268.436, -0.0343087, 0.990413, 0.133811, -46.6821, -0.9993, -0.0359911, 0.010174, 352.924, -0.502311, -0.00702804, 0.864659, -310.41, 0.0102708, 0.999848, 0.0140935, -49.8711, -0.864626, 0.0159601, -0.502162, 347.949, -0.649251, -0.0224526, 0.760243, -331.992, 0.0124235, 0.999118, 0.0401172, -50.9959, -0.760473, 0.035491, -0.648399, 386.532, -0.658242, -0.0341292, 0.752033, -373.859, 0.00783655, 0.998607, 0.0521786, -52.7034, -0.752766, 0.0402395, -0.657057, 399.188, -0.628352, -0.039425, 0.776929, -392.766, 0.0062252, 0.998428, 0.0556996, -55.0066, -0.777904, 0.0398355, -0.627119, 438.762, -0.553408, -0.0404006, 0.83193, -435.462, 0.00755757, 0.998538, 0.0535189, -57.0882, -0.832876, 0.0359052, -0.552294, 448.056, -0.368412, -0.0331801, 0.92907, -462.228, 0.0133661, 0.999071, 0.0409802, -59.2216, -0.929567, 0.0275156, -0.367626, 482.922, 0.100935, -0.00779547, 0.994862, -503.72, 0.0219301, 0.999744, 0.00560877, -59.8112, -0.994651, 0.0212513, 0.10108, 471.353, -0.254012, -0.0821897, 0.963703, -542.03, 0.0446039, 0.994327, 0.0965582, -62.3463, -0.966172, 0.0675118, -0.248905, 490.941, -0.861064, -0.0691924, 0.503766, -583.599, -0.000973523, 0.990921, 0.134439, -67.2192, -0.508495, 0.11527, -0.853314, 499.915, -0.996326, 0.00951257, -0.0851083, -574.352, 0.00900307, 0.999939, 0.00636741, -70.0862, 0.0851637, 0.00557778, -0.996351, 542.282, -0.615605, 0.0997768, -0.781713, -569.339, 0.00931135, 0.992804, 0.119387, -72.8612, 0.788, 0.0662167, -0.612104, 583.58, -0.138799, 0.121096, -0.982889, -526.42, 0.00152576, 0.992521, 0.122068, -78.0864, 0.990319, 0.0154431, -0.137945, 582.898, 0.602039, 0.179894, -0.777938, -486.643, -0.0288944, 0.97856, 0.203926, -82.3271, 0.797944, -0.100293, 0.594329, 585.74, 0.190053, 0.0772557, -0.978729, -458.678, 0.00573242, 0.996795, 0.0797949, -89.596, 0.981757, -0.0207757, 0.189001, 553.059, -0.358763, 0.149285, -0.921414, -421.199, 0.0499166, 0.988784, 0.140765, -91.7948, 0.932093, 0.00450727, -0.362191, 574.179, 0.12662, 0.120604, -0.984592, -381.292, 0.00455308, 0.9925, 0.122158, -98.6035, 0.991941, -0.0199506, 0.125121, 566.448, 0.313503, 0.0572498, -0.94786, -342.033, -0.0202035, 0.998357, 0.0536175, -100.573, 0.949372, 0.00234082, 0.314145, 566.189, -0.573609, 0.121514, -0.810066, -301.94, 0.0287285, 0.991312, 0.128359, -104.783, 0.818625, 0.0503556, -0.572116, 556.933, -0.986837, 0.0861773, -0.136846, -295.501, 0.0760637, 0.994087, 0.0774972, -108.344, 0.142715, 0.066068, -0.987556, 598.371, -0.992347, 0.0519157, 0.112036, -285.018, 0.0579015, 0.997026, 0.0508497, -110.91, -0.109063, 0.0569476, -0.992402, 636.921, -0.93361, 0.039062, -0.356155, -295.17, -0.00652523, 0.992021, 0.125907, -114.362, 0.358231, 0.119872, -0.925905, 677.896, -0.999619, 0.0100239, -0.0257268, -266.408, 0.00766316, 0.995888, 0.0902719, -119.208, 0.0265258, 0.0900403, -0.995585, 712.266, -0.38126, -0.114134, 0.917395, -299.039, 0.0172649, 0.991298, 0.130504, -121.27, -0.924307, 0.0655947, -0.375972, 735.975, 0.369987, -0.127829, 0.920201, -337.331, 0.0421247, 0.991778, 0.120835, -127.721, -0.928082, -0.0059441, 0.372329, 748.778, 0.494091, 0.00443476, 0.869399, -365.065, -0.0169719, 0.999846, 0.00454518, -130.15, -0.869244, -0.0170011, 0.49409, 714.497, 0.466303, -0.0732082, 0.881591, -408.418, 0.00780329, 0.996871, 0.0786539, -131.856, -0.884591, -0.0297973, 0.465416, 710.513, 0.194247, -0.114502, 0.974247, -439.379, 0.00876829, 0.993327, 0.114996, -135.673, -0.980913, -0.0137952, 0.193955, 679.178, -0.768511, -0.0722179, 0.635748, -470.469, -0.0555817, 0.997389, 0.0461097, -139.163, -0.637418, 9.98974e-05, -0.770518, 704.034, -0.830927, -0.0841311, 0.549984, -503.207, -0.0568246, 0.996165, 0.0665317, -141.258, -0.553472, 0.0240304, -0.832521, 728.688, -0.344462, -0.147533, 0.927135, -523.041, -0.007644, 0.987983, 0.154376, -145.656, -0.938769, 0.0460896, -0.341451, 766.464, -0.19513, -0.0298127, 0.980324, -566.668, -0.0160069, 0.999502, 0.0272098, -150.072, -0.980647, -0.0103825, -0.19551, 757.723, -0.722325, -0.00869974, 0.691499, -592.716, -0.0120431, 0.999928, 5.96046e-08, -149.892, -0.691449, -0.00832775, -0.722377, 791.825)

[node name="ArcadeDemo" type="Node3D"]

[node name="VehicleController" parent="." node_paths=PackedStringArray("vehicle_node") instance=ExtResource("1_x8foh")]
transform = Transform3D(-0.0531377, 0, -0.998587, 0, 1, 0, 0.998587, 0, -0.0531377, -43.3067, 261.595, -199.558)
vehicle_node = NodePath("VehicleRigidBody")

[node name="VehicleRigidBody" parent="VehicleController" instance=ExtResource("2_6grc4")]
steering_slip_assist = 0.3
throttle_speed = 10.0
traction_control_max_slip = -1.0
front_camber = 0.136
rear_camber = 0.136

[node name="EngineSound" parent="VehicleController/VehicleRigidBody" node_paths=PackedStringArray("vehicle") instance=ExtResource("3_ndtxv")]
vehicle = NodePath("..")

[node name="Smoke" parent="VehicleController/VehicleRigidBody" node_paths=PackedStringArray("vehicle") instance=ExtResource("4_lfj3g")]
vehicle = NodePath("..")

[node name="SpotLight3D" type="SpotLight3D" parent="VehicleController/VehicleRigidBody"]
transform = Transform3D(0.999972, -0.00754593, -0.000537746, 0.00754593, 0.989866, 0.141806, -0.000537753, -0.141806, 0.989895, -0.913239, 0.355042, -2.51112)
light_color = Color(1, 0.96, 0.76, 1)
light_energy = 3.716
light_size = 0.245
shadow_enabled = true
shadow_reverse_cull_face = true
spot_range = 150.0
spot_attenuation = 0.0
spot_angle = 25.45
spot_angle_attenuation = 0.196146

[node name="SpotLight3D2" type="SpotLight3D" parent="VehicleController/VehicleRigidBody"]
transform = Transform3D(0.999972, -0.00754593, -0.000537746, 0.00754593, 0.989866, 0.141806, -0.000537753, -0.141806, 0.989895, 0.7901, 0.355042, -2.60176)
light_color = Color(1, 0.96, 0.76, 1)
light_energy = 3.716
light_size = 0.245
shadow_enabled = true
shadow_reverse_cull_face = true
spot_range = 150.0
spot_attenuation = 0.0
spot_angle = 25.45
spot_angle_attenuation = 0.196146

[node name="GUI" type="Control" parent="." node_paths=PackedStringArray("vehicle")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_gt5iv")
vehicle = NodePath("../VehicleController/VehicleRigidBody")

[node name="VBoxContainer" type="VBoxContainer" parent="GUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Speed" type="Label" parent="GUI/VBoxContainer"]
layout_mode = 2

[node name="RPM" type="Label" parent="GUI/VBoxContainer"]
layout_mode = 2

[node name="Gear" type="Label" parent="GUI/VBoxContainer"]
layout_mode = 2

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("follow_this")]
transform = Transform3D(1, 0, 0, 0, 0.430873, 0.902412, 0, -0.902412, 0.430873, 4.05282, 66.6965, 5.80061)
script = ExtResource("6_h0cs5")
follow_distance = 8
follow_height = 4
follow_this = NodePath("../VehicleController/VehicleRigidBody")

[node name="Debug" type="Node" parent="." node_paths=PackedStringArray("vehicle")]
script = ExtResource("7_r4xy1")
vehicle = NodePath("../VehicleController/VehicleRigidBody")

[node name="DebugUI" type="Control" parent="Debug"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("8_kjj14")
metadata/_edit_use_anchors_ = true

[node name="StaticBody3D" type="StaticBody3D" parent="." groups=["Road"]]

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
transform = Transform3D(200, 0, 0, 0, 100, 0, 0, 0, 100, 0, 0, 0)
mesh = SubResource("PlaneMesh_cgl6g")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_ne54f")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.773071, -0.5, 0.943573)
shape = SubResource("BoxShape3D_ndtxv")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_x8foh")

[node name="Node" type="Node" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("10_6grc4")
player = NodePath("../VehicleController")

[node name="block" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.0991, 0, -19.411)

[node name="MeshInstance3D" type="MeshInstance3D" parent="block"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.995592, 0)
mesh = SubResource("CylinderMesh_6grc4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="block"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_ndtxv")

[node name="Path3D" type="Path3D" parent="." groups=["Road"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -86.5392, 62.5319, -19.5458)
curve = SubResource("Curve3D_6grc4")
script = ExtResource("11_ndtxv")
lamp_distance = 40.0
lamp_offset = 9.0

[node name="mesh_road" type="CSGPolygon3D" parent="Path3D" groups=["Road"]]
use_collision = true
polygon = PackedVector2Array(-8, -1, -8, 0, 8, 0, 8, -1)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 2.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 16.0
path_joined = false
material = SubResource("ShaderMaterial_gt5iv")

[node name="mesh_wall_right" type="CSGPolygon3D" parent="Path3D"]
use_collision = true
polygon = PackedVector2Array(8, 0, 8, 1, 7.5, 1, 7.5, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 2.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="mesh_wall_left" type="CSGPolygon3D" parent="Path3D"]
use_collision = true
polygon = PackedVector2Array(-7.5, 0, -7.5, 1, -8, 1, -8, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 2.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="street_lamps" type="MultiMeshInstance3D" parent="Path3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
multimesh = SubResource("MultiMesh_gt5iv")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.374202, -0.7759, 0.50789, -0.803106, 0.00269628, 0.59583, -0.463674, -0.63085, -0.622122, 0, 107.839, 0)
light_color = Color(0.3243, 0.341298, 0.47, 1)
light_energy = 0.177
shadow_enabled = true
shadow_reverse_cull_face = true
sky_mode = 1

[connection signal="curve_changed" from="Path3D" to="Path3D" method="_on_curve_changed"]
